Only in /home-pbs/msessini/Test/workdirglobalFeb_03_2022/Code/CommonUtils/TauPolSoftware/TauDecaysInterface/src/: PolarimetricA1.o
diff src/SCalculator.cc /home-pbs/msessini/Test/workdirglobalFeb_03_2022/Code/CommonUtils/TauPolSoftware/TauDecaysInterface/src/SCalculator.cc
274,275c274,275
<   //TLorentzVector Frame = tauandprodminus.at(0)+tauandprodplus.at(0);
<   TLorentzVector Frame = tauandprodminus.at(1)+tauandprodplus.at(1);
---
>   TLorentzVector Frame = tauandprodminus.at(0)+tauandprodplus.at(0);
>   //TLorentzVector Frame = tauandprodminus.at(1)+tauandprodplus.at(1);
540c540
<     ZMF = sumPions.at(0) + pion;
---
>     ZMF = Pi + pion;
543,550c543,546
<   TLorentzVector Pi_ZMF = Scalc1.Boost(Pi,ZMF);
<   TLorentzVector PiZero_ZMF = Scalc1.Boost(PiZero,ZMF);
<   TVector3 vecPi = Pi_ZMF.Vect();
<   TVector3 vecPiZero = PiZero_ZMF.Vect();
<   vecPi *= 1/vecPi.Mag();
<   vecPiZero *= 1/vecPiZero.Mag();
<   TVector3 vecPiZerotransv = vecPiZero - vecPi*(vecPi*vecPiZero);
<   vecPiZerotransv *= 1/vecPiZerotransv.Mag();
---
>   TLorentzVector eta1_ZMF = Scalc1.Boost(PiZero,ZMF);
>   TLorentzVector pi_ZMF = Scalc1.Boost(Pi,ZMF);
>   TVector3 eta1Transv = eta1_ZMF.Vect() - pi_ZMF.Vect()*(pi_ZMF.Vect()*eta1_ZMF.Vect()/pi_ZMF.Vect().Mag2());
>   eta1Transv *= 1/eta1Transv.Mag();
552,558c548,552
<   SCalculator Scalc2(type2.Data());
<   TVector3 pion_dir = pion.Vect();
<   double proj = pion_ref*pion_dir/pion_dir.Mag2();
<   TVector3 pion_IP = pion_ref-pion_dir*proj;
<   TLorentzVector eta(pion_IP,0);
<   TLorentzVector eta_ZMF = Scalc2.Boost(eta,ZMF);
<   TVector3 etaVec = eta_ZMF.Vect().Unit();
---
>   SCalculator Scalc2("pion");
>   double proj = pion_ref*pion.Vect()/pion.Vect().Mag2();
>   TVector3 pion_IP = pion_ref-pion.Vect()*proj;
>   TLorentzVector eta2(pion_IP,0.);
>   TLorentzVector eta2_ZMF = Scalc2.Boost(eta2,ZMF);
560,561c554,555
<   TVector3 PiVec = pion_ZMF.Vect().Unit();
<   TVector3 etaVecTrans = (etaVec - PiVec*(PiVec*etaVec)).Unit();
---
>   TVector3 eta2Transv = eta2_ZMF.Vect() - pion_ZMF.Vect()*(pion_ZMF.Vect()*eta2_ZMF.Vect()/pion_ZMF.Vect().Mag2());
>   eta2Transv *= 1/eta2Transv.Mag();
563,564c557,558
<   double acop = TMath::ACos(vecPiZerotransv*etaVecTrans);
<   double sign = PiVec * (vecPiZerotransv.Cross(etaVecTrans));
---
>   double acop = TMath::ACos(eta1Transv*eta2Transv);
>   double sign = pion_ZMF.Vect() * (eta1Transv.Cross(eta2Transv));
570d563
< 
Only in /home-pbs/msessini/Test/workdirglobalFeb_03_2022/Code/CommonUtils/TauPolSoftware/TauDecaysInterface/src/: SCalculator.o
Only in /home-pbs/msessini/Test/workdirglobalFeb_03_2022/Code/CommonUtils/TauPolSoftware/TauDecaysInterface/src/: TauPolInterface.o
Only in /home-pbs/msessini/Test/workdirglobalFeb_03_2022/Code/CommonUtils/TauPolSoftware/TauDecaysInterface/src/: a1Helper.o
Only in /home-pbs/msessini/Test/workdirglobalFeb_03_2022/Code/CommonUtils/TauPolSoftware/TauDecaysInterface/src/: fonction_a1.o
Only in /home-pbs/msessini/Test/workdirglobalFeb_03_2022/Code/CommonUtils/TauPolSoftware/TauDecaysInterface/src/: nohup.out
Only in /home-pbs/msessini/Test/workdirglobalFeb_03_2022/Code/CommonUtils/TauPolSoftware/TauDecaysInterface/src/: rhoHelper.o
